<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobsAI</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to external CSS file -->

    <!-- Google Identity Platform API -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>

    <!-- Gradio Chatbot Embed -->
    <div class="gradio-container">
        <gradio-app src="https://braxtongough-myai.hf.space"></gradio-app>
    </div>

    <!-- Google Sign-In Button -->
    <div id="g_id_onload"
        data-client_id="419045857089-pkcqbik3kntd8p0g3r517v54a926eok9.apps.googleusercontent.com"
        data-login_uri="https://feetusdeletus12.github.io/JobsAI/oauth2callback"
        data-auto_prompt="false">
    </div>
    <div class="g_id_signin" 
        data-type="standard"
        data-size="large"
        data-theme="outline"
        data-text="sign_in_with"
        data-shape="rectangular"
        data-logo_alignment="left">
    </div>

    <!-- Gradio JS Module -->
    <script type="module" src="https://gradio.s3-us-west-2.amazonaws.com/5.0.1/gradio.js"></script>
    <script src="script.js"></script> <!-- Link to external JS file -->

    <!-- Google Sign-In Script -->
    <script>
        // This function handles the credential response
        function handleCredentialResponse(response) {
            console.log("Credential Response:", response); // Logs the credential data
            const data = response.credential;  // Contains the user's data

            // You can handle the user data here (e.g., send it to a server, store it, etc.)
            console.log("User signed in:", data);  // Log the user's data
        }

        window.onload = function () {
            console.log("Initializing Google Sign-In...");

            google.accounts.id.initialize({
                client_id: "419045857089-pkcqbik3kntd8p0g3r517v54a926eok9.apps.googleusercontent.com",  // Use your actual Google Client ID
                callback: handleCredentialResponse
            });

            // Render the Google Sign-In button
            google.accounts.id.renderButton(
                document.getElementById("g_id_onload"), 
                { theme: "outline", size: "large" }  // Customize the button style
            );

            // Optionally, prompt the user for login
            google.accounts.id.prompt();
        };
    </script>

</body>
</html>
